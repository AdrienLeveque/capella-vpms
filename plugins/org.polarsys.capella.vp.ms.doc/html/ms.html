<?xml version='1.0' encoding='utf-8' ?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
	</head>
	<body>
		<h1 id="Capella_Modes_.26_States_Viewpoint">Capella Modes &amp; States Viewpoint</h1>
		<p>The Modes and States Addon prototype adds “Configuration” as a new Capella element type. A configuration is associated to a component and describes the set of elements of the component that is active or enabled when the component is in a certain state.</p>
		<h3 id="Example">Example</h3>
		<p>For example, in an airplanes avionics system the Gear Up function would only be available when the airplane is in the air, while the Doors Open function would only be available when the airplane is in on the ground.</p>
		<p>
			<img border="0" src="example1.png"/>
		</p>
		<p>While this could perfectly be modeled with the help of Constraints, Configurations provide a more direct and easier way:</p>
		<p>
			<img border="0" src="example2.png"/>
		</p>
		<p>Two configurations "Ground" and "Flight" describe the availability for the avionics functions. The easiest way to edit configurations for a component is by using the crosstable diagram "Configuration Elements":</p>
		<p>
			<img border="0" src="example3.png"/>
		</p>
		<p>The last step is to associate the two configurations to the operation modes of the Airplane. This is done with the crosstable "Mode and Configuration":</p>
		<p>
			<img border="0" src="example4.png"/>
		</p>
		<p>This viewpoint also adds an additional "Configurations" layer to the following types of diagrams:</p>
		<ul>
			<li>xAB Architecture Diagrams</li>
			<li>Internal/External Interface Diagrams</li>
			<li>Scenario diagrams</li>
		</ul>
		<p>
			<img border="0" src="example5.png"/>
		</p>
		<p>When the layer is active, two new tools are available in the palette:</p>
		<p>
			<img border="0" src="example6.png"/>
		</p>
		<p>The "Configuration" and creates a new configuration element. A configuration
			is always associated to a single component, so the tool must be used on
			a component node. If the underlying diagram represents a component, the tool can also be used on the diagram canvas.</p>
		<p>The "Configuration Selection" tool is also used on components and allows the addition of existing components to the diagram. </p>
		<p>When a configuration is applied on a component, the components elements that are not active in the configuration are greyed out:</p>
		<p>
			<img border="0" src="example7.png"/>
		</p>
		<p>Note how the Avionics subcomponent is also greyed out, since the Flight configuration does not explicitly mark the component as active. If the Avionics component is included in the configuration:</p>
		<p>
			<img border="0" src="example8.png"/>
		</p>
		<p>It will no longer be greyed out:</p>
		<p>
			<img border="0" src="example9.png"/>
		</p>
		<h1 id="Elements_of_a_Configuration">Elements of a Configuration</h1>
		<p>Apart from functions, a configuration may include ports, components, and functional chains. The "Configuration Elements" crosstable has several filters to show only elements of interest:</p>
		<p>
			<img border="0" src="example10.png"/>
		</p>
		<h1 id="Configuration_Access">Configuration Access</h1>
		<p>It is yet to be defined which elements a configuration may include and which not. The prototype supports three different options called “Configuration Access”. The three modes will be explained with the help of the following sample model. Configuration 1 is an empty configuration:</p>
		<p>
			<img border="0" src="example11.png"/>
		</p>
		<p>
			<b>Flat</b>: In this mode, a configuration may not include elements of subcomponents. Only its allocated functions, deployed/child components its owned ports and related functional chains may be included.
			For the example, the only allowed Elements for Configuration 1 would be "Child" and "Deployed".
		</p>
		<p>
			<b>Subcomponents</b>. In this mode, a configuration may additionally include elements of its child components, but not elements of deployed components.
			For the example, the allowed additional elements for Configuration 1 would be the Physical Port on "Child".
		</p>
		<p>
			<b>Full</b>  In this mode, a configuration may additionally include elements of deployed components. This is the current default mode. 
			For the example, the allowed additional elements would be the Physical Function, its port, and the component port on the deployed component.
		</p>
		<p>The default access mode for new Configuration elements can be changed in the Capella Modes and States Preferences:</p>
		<p>
			<img border="0" src="example12.png"/>
		</p>
		<h3 id="Advanced_Configuration_Properties">Advanced Configuration Properties</h3>
		<h4 id="Inclusion.2FExclusion">Inclusion/Exclusion</h4>
		<p>It is possible to define the elements of a configuration by inclusion (the default) or by exclusion:

			<img border="0" src="example13.png"/>
		</p>
		<p>When using inclusion, the elements that are selected in the configuration make up the active elements of the configuration. All other elements in the configuration scope are inactive/disabled in the configuration. 
			When using exclusion, the elements that are selected in the configuration make up the inactive elements of the configuration. All other elements in the configuration scope are active/enabled in the configuration.
			You can nicely see the effect of inclusion/exclusion when you change between inclusion/exclusion in an open xAB diagram with the configurations layer activated. In the example below, the function "Open Doors" the only referenced element by the configuration:</p>
		<p>Element selection set to inclusion, the only active element is the "Doors Open" function.</p>
		<p>
			<img border="0" src="example14.png"/>
		</p>
		<p>The same configuration, with element selection set to exclusion, all elements except the "Doors Open" function are active.</p>
		<p>
			<img border="0" src="example15.png"/>
		</p>
		<h4 id="Child_Configurations">Child Configurations</h4>
		<p>A configuration may define a set of child configurations. When such a configuration is active, all of its child configurations are active too. The possible set of child configurations is limited to the configurations defined in subcomponents of the configurations own component. Child configuration relationships can be established by using either the properties view:
			In xAB diagrams, child configuration relationships can be shown by selecting "Show child configuration relationships" in the diagram toolbar:</p>
		<p>
			<img border="0" src="example16.png"/>
		</p>
		<p>It is then possible to establish child relations by using the "Add child configuration" edge tool:

			<img border="0" src="example17.png"/>
		</p>
		<p>To remove a relationship, simple delete the relationship edge in the diagram.</p>
	</body>
</html>